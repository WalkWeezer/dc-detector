# üì∑ Camera Service

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–µ—Ä–∞–º–∏ –Ω–∞ Raspberry Pi –∏–ª–∏ –ª—é–±–æ–º Linux-—Å–µ—Ä–≤–µ—Ä–µ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–∞–º–µ—Ä—ã
- üì∏ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PiCamera (legacy)
- üì∑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Picamera2
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ USB –≤–µ–±-–∫–∞–º–µ—Ä —á–µ—Ä–µ–∑ OpenCV
- üé• MJPEG –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
- üìä REST API –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd camera-service
docker-compose up -d --build
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
cd camera-service
pip install -r requirements.txt
python camera_server.py
```

## API Endpoints

- `GET /` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–º
- `GET /video_feed` - MJPEG –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
- `GET /status` - –°—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä—ã (JSON)
- `GET /health` - Health check

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞

```html
<img src="http://your-host:8000/video_feed" alt="Camera Stream">
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl http://localhost:8000/status
```

–û—Ç–≤–µ—Ç:
```json
{
  "camera_type": "webcam",
  "running": true,
  "status": "active"
}
```

### Health check

```bash
curl http://localhost:8000/health
```

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose down
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–º–µ—Ä –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
1. **PiCamera** (legacy) - —Å—Ç–∞—Ä–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Raspberry Pi
2. **Picamera2** - –Ω–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Raspberry Pi
3. **WebCam** (OpenCV) - USB –≤–µ–±-–∫–∞–º–µ—Ä—ã

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å –∫–∞–∫ –Ω–∞ Raspberry Pi, —Ç–∞–∫ –∏ –Ω–∞ –æ–±—ã—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.

