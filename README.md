# üî• DC-Detector - –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏

–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–≥–Ω—è –Ω–∞ –±–∞–∑–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ:

### üì∑ Camera Service
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–µ—Ä–∞–º–∏. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é –∫–∞–º–µ—Ä—É (PiCamera, Picamera2, USB –≤–µ–±-–∫–∞–º–µ—Ä–∞).

### üî• Detection Service  
–°–µ—Ä–≤–∏—Å –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–≥–Ω—è –Ω–∞ –±–∞–∑–µ YOLO. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –æ—Ç camera-service –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ Camera Service

```bash
cd camera-service

# –ù–∞ Raspberry Pi
sudo apt-get install python3-picamera2 python3-picamera -y
pip3 install -r requirements.txt
python3 camera_server.py

# –ù–∞ –æ–±—ã—á–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
pip3 install -r requirements.txt
python3 camera_server.py
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

### –ó–∞–ø—É—Å–∫ Detection Service

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ camera-service –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000
cd detection-service
pip3 install -r requirements.txt
python3 detection_server.py
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8001

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫—É –∏–∑ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```html
<img src="http://localhost:8000/video_feed" alt="Camera Stream">
<img src="http://localhost:8001/detection_frame" alt="Detection Results">
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DC-Detector/
‚îú‚îÄ‚îÄ camera-service/          # –°–µ—Ä–≤–∏—Å –∫–∞–º–µ—Ä—ã (–ø–æ—Ä—Ç 8000)
‚îÇ   ‚îú‚îÄ‚îÄ camera_server.py     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ START_HERE.md        # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ detection-service/       # –°–µ—Ä–≤–∏—Å –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–≥–Ω—è (–ø–æ—Ä—Ç 8001)
‚îÇ   ‚îú‚îÄ‚îÄ detection_server.py # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ archive/                 # –ê—Ä—Ö–∏–≤ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ original-project/   # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
‚îú‚îÄ‚îÄ bestfire.pt              # –ú–æ–¥–µ–ª—å YOLO –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –æ–≥–Ω—è
‚îú‚îÄ‚îÄ yolov8n.pt               # –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å YOLOv8
‚îî‚îÄ‚îÄ README.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîß –°–µ—Ä–≤–∏—Å—ã

### Camera Service
- **–ü–æ—Ä—Ç:** 8000
- **API:** `/video_feed`, `/status`, `/health`
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** PiCamera, Picamera2, USB –≤–µ–±-–∫–∞–º–µ—Ä—ã
- **–§–æ—Ä–º–∞—Ç:** MJPEG –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [camera-service/README.md](camera-service/README.md)

### Detection Service
- **–ü–æ—Ä—Ç:** 8001
- **API:** `/api/detection`, `/detection_frame`, `/health`
- **–ú–æ–¥–µ–ª—å:** YOLO (bestfire.pt)
- **–§—É–Ω–∫—Ü–∏–∏:** –î–µ—Ç–µ–∫—Ü–∏—è –æ–≥–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [detection-service/README.md](detection-service/README.md)

## üìä –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

- üìä **API Gateway** - –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üíæ **Storage Service** - –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- üì° **Notification Service** - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (email, SMS, push)

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
cd camera-service
python3 camera_server.py
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–∏—Å.

## üìù API

### Camera Service

- `GET /` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `GET /video_feed` - MJPEG –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫
- `GET /status` - –°—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä—ã (JSON)
- `GET /health` - Health check

–ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç—É—Å–∞:
```json
{
  "camera_type": "webcam",
  "running": true,
  "status": "active"
}
```

### Detection Service

- `GET /` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- `GET /api/detection` - –°—Ç–∞—Ç—É—Å –¥–µ—Ç–µ–∫—Ü–∏–∏ (JSON)
- `GET /detection_frame` - –ö–∞–¥—Ä —Å –¥–µ—Ç–µ–∫—Ü–∏—è–º–∏
- `GET /health` - Health check

–ü—Ä–∏–º–µ—Ä –¥–µ—Ç–µ–∫—Ü–∏–∏:
```json
{
  "detected": true,
  "count": 2,
  "confidence": 0.87,
  "last_detection": 1698405000.0,
  "detections": [...]
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–µ—Ä–∞–º–∏ –Ω–∞ Raspberry Pi —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –∫–∞–º–µ—Ä—ã.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞: `curl http://localhost:8000/status`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: `libcamera-hello` (–Ω–∞ Raspberry Pi)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: `pip3 list`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Ultralytics –∑–∞ YOLO –º–æ–¥–µ–ª—å
- Raspberry Pi Foundation
- OpenCV —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
